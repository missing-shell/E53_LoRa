# IntoRobot_L8

## 1.概述

### 1.1 产品介绍

IntoRobot-  L7/  IntoRobot-  L8 以下简称L7/L8 是深圳市摩仑科技有限公司开发的 LoraTM 通信模块、具有通信距离远，结构紧凑，功耗低的特点。工作在Sub-1GHz 频段433MHz、470MHz。
L7 与L8 唯一不同就是射频接口，其余规格完全相同。

L7/L8 模块采用了Semtech 公司**SX1276/1278** 芯片，调制模式LoraTM 向后兼容FSK、OOK，采用了LoraTM 扩频调制技术具有极高的接收灵敏度和超强的抗干扰性能，其通信距离，接收灵敏度都远超现在的FSK,GFSK 调制。待机功耗可以低至1.5uA，使用L7/L8 模块可以大大减少了产品开发周期

### 1.2 SX127X之间的区别

#### 1.2.1 工作频率范围

SX1276: 主要设计用于868MHz和915MHz频段，这些频段主要在欧洲、北美和其他一些地区使用。
SX1278: 主要针对433MHz和470MHz频段，这些频率常见于中国、东南亚、南美和东欧等地。

SX1278的21和22引脚是GND，而SX1276的21引脚是RFI_HF，22引脚是RFO_HF。

### 1.3 产品关键指标

- 空旷传输距离可达6000 米
- 工作频段：**433/470 MHz**
- 调制模式LoraTM 向后兼容FSK、OOK
- 灵敏度低至  -148 dBm
- 输出功率：最大100mW（+20dBm）
- 工作电压范围：1.8 ~ 3.7 V
- 作温度范围：-40 ~ +85  °C

### 1.4 产品应用场景

- LoRa 应用场景主要分3 类，使用了以下3 种协议：

#### 1.4.1 LoRa 私有网络协议

在面向小范围节点数不多的应用中例如无需接入到网络平台，或者已经有相应的网关。用一个SX127x 做一个小“网关”或“集中器”，无线连接几十的节点，组建一个小的私有网络，通过自己的LoRa 私有通信协议，就可以实现一个简单的LoRa 私有网络，这也是一种比较灵活方式。

#### 1.4.2 LoRaWAN 协议

LoRaWAN 协议是由LoRa 联盟推动的一种低功耗广域网协议，针对低功耗、网络延迟及网络安全进行了优化。LoRaWAN 联盟标准化了 LoRa 网络协议，以确保不同国家的 LoRa 网络是可以互通性，另外LoRaWAN 对稳定性做了近一步优化，自动速率调整ADR，跳频功能，LoRaWAN 实现完善的认证策略。

LoRaWAN 构建的是一个运营商级的网络。可以实现分布式蜂窝网部署覆盖地区可以是大面积的森林或城市以及工厂等，或者链路式适合石油，天然气，江河湖泊，边防线等。 LoRaWAN 网络架构是一个典型的星形拓扑结构，在这个网络架构中，LoRa 网关是一个透明传输的中继，连接终端设备和后端服务器。网关与服务器间通过标准 MQTT/UDP 连接。所有的节点与网关间均是双向通信。

LoRaWAN  相对私有网络协议具有以下几点优势
    1：设备管理简单，每个节点设备单独入网认证。
    2：网络安全，采用签名及加密的方式确保了网络的绝对安全。
    3：施工难度及成本低，设备架设简单，一个区域同时放置多个网关，网关和节点无需考虑无线电重叠等问题。
    4：节点容量大：一个区域可以支持上万个节点接入。
    5：节点支持移动：支持节点由一个LoRaWAN 网关区域移动到另外一个LoRaWAN 网关区域。
    6：设备更加节能，支持CLASS A、CLASSC  多种节能模式。
  
#### 1.4.3 LoRa 透传

数据透传的一些应用中，利用 L7/L8 产品的出色的远距离传输特性，直接使用 L7/L8 搭配MCU，使用MCU 封装AT 命令，将LoRa 用于简单的数据传输应用。

可以与4G/GPRS 等各种无线通信技术相互结合，做成无线通信融合模块，或者只是使用Lora  实现RS485，RS232 无线拉远，不同的应用满足不同行业的需求，这也是LoRa 应用的一个特点。

## 2. 补充资料

- FSK（频移键控）和OOK（开关键控）都是数字调制技术，用于在无线通信中传输数字信号。
- 物理层负责通过通信媒介传输原始比特流，包括调制技术，如FSK和OOK。

### 2.1 FSK（频移键控）

FSK是一种通过改变载波频率来传输数字信号的调制技术。在二进制FSK中，使用两个不同的频率来代表0和1。多级FSK可以使用更多的频率，从而提高数据传输速率。FSK的数学表达式为：

$$
s_{2fsk}(t) = \sum_{n}{a_ng(t-nT_s)\cos(2\pi f_1t)} + \sum_{n}{\bar{a_n}g(t-nT_s)\cos(2\pi f_2t)}
$$

其中：

- \( g(t) \) 是矩形脉冲
- \( T_s \) 是符号间隔
- \( a_n \) 和 \( \bar{a_n} \) 分别代表二进制符号和其反码
- \( f_1 \) 和 \( f_2 \) 是代表二进制0和1的两个频率

### 2.2 OOK（开关键控）

OOK是ASK的一个特例，它通过载波的有无来表示二进制的0和1。OOK的调制原理是控制载波的幅度，其中一个幅度为0，另一个幅度为非0。

这两种调制技术在无线通信领域有广泛应用，例如GFSK是一种在FSK调制前通过高斯低通滤波器预调制滤波的技术。
